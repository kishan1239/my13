(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6312],{46312:function(e,t,r){Promise.resolve().then(r.bind(r,75483))},17232:function(e,t,r){"use strict";r.d(t,{O:function(){return n},w:function(){return o}}),r(15231),r(470);var l=r(31162),n=(0,l.$)("c88dd24afe4de1f74a89c67cdce6edbcc93b04c4"),o=(0,l.$)("246570ef8135206f89b3e9c9b298df0a44c34c65")},6813:function(e,t,r){"use strict";r.d(t,{q:function(){return n}});var l=r(92173);let n=async()=>{let e=await l.Z.get("https://ipapi.co/json/");return{country:e.data.country_name,city:e.data.city,ip:e.data.ip}}},75483:function(e,t,r){"use strict";r.r(t),r.d(t,{PoweredBy:function(){return M},PublicWalkthroughPage:function(){return _},VideoLoading:function(){return R}});var l=r(57437),n=r(2265),o=r(85035),s=r(26621),i=r(39933),c=r(79980),a=r(22811),d=r(48433),u=r(13621),h=r(36833),p=r(83109),x=r(14250),f=r(12474),j=r(35932),m=r(16691),b=r.n(m),g=r(88613),k=r.n(g),w=r(17232),v=r(97766),y=r(6813);let C=e=>{let{onClick:t}=e;return(0,l.jsxs)(d.z,{colorScheme:"primary",onClick:t,children:[(0,l.jsx)(j.gPz,{}),(0,l.jsx)(c.x,{ml:2,children:"Start the guide"})]})},S=e=>{let{onClick:t,ctaLabel:r,ctaLink:n,id:o}=e,s=async()=>{(0,w.w)({id:o,client:await (0,y.q)()})};return(0,l.jsxs)(v.g,{children:[(0,l.jsx)(c.x,{color:"white",children:"You successfully completed the guide!"}),(0,l.jsxs)(v.g,{w:200,children:[r&&n&&(0,l.jsxs)(d.z,{w:"full",as:"a",href:n,target:"_blank",colorScheme:"brand",onClick:s,children:[(0,l.jsx)(c.x,{mr:2,children:r}),(0,l.jsx)(j.CR0,{})]}),(0,l.jsxs)(d.z,{w:"full",onClick:t,children:[(0,l.jsx)(j.TYK,{}),(0,l.jsx)(c.x,{ml:2,children:"Restart the guide"})]})]})]})},T=e=>{let{started:t,ended:r,onStart:n,onRestart:o,playing:s,ctaLabel:i,ctaLink:c,id:a}=e;return s||t&&!r?null:(0,l.jsxs)(h.M,{w:"full",h:"full",pos:"absolute",top:0,left:0,bg:"blackAlpha.800",children:[!t&&(0,l.jsx)(C,{onClick:n}),r&&(0,l.jsx)(S,{onClick:o,ctaLabel:i,ctaLink:c,id:a})]})};var z=r(24606);let L=e=>{let{walkthroughId:t,borderColor:r,subColor:h,currentChapterIdx:p,handleChapterClickClick:x,scrollRef:f,chapterClicks:m,noDarkMode:b,title:g,description:k,readMode:w}=e,[v,y]=(0,n.useState)(""),C=(0,o.ff)("blackAlpha.600","whiteAlpha.600"),S=(0,o.ff)("blackAlpha.300","whiteAlpha.300"),T=(0,n.useMemo)(()=>{let e=m.map((e,t)=>({step:e,idx:t}));return v?e.filter(e=>(e.step.click.note||"").toLowerCase().includes(v.toLowerCase())):e},[m,v]);return(0,n.useEffect)(()=>{let e=document.getElementById("chapter-".concat(p));if(f.current&&e){let t=f.current.getBoundingClientRect(),r=e.getBoundingClientRect(),l=e.offsetTop>f.current.scrollTop+f.current.offsetTop&&e.offsetTop<f.current.scrollTop+f.current.offsetTop+t.height,n=e.offsetTop+r.height>f.current.scrollTop+f.current.offsetTop&&e.offsetTop+r.height<f.current.scrollTop+f.current.offsetTop+t.height;if(!(l&&n)){let l=e.offsetTop+r.height-f.current.scrollTop-f.current.offsetTop-t.height;l+=40,f.current.scrollBy({top:l,behavior:"smooth"})}}},[p]),(0,l.jsxs)(s.k,{minW:["100%","100%","25%"],flexDir:"column",p:8,pt:[8,8,12],overflowY:["visible","visible","auto"],h:["auto","auto","100%"],borderRightWidth:[0,0,1],borderStyle:"solid",borderColor:r,maxW:400,ref:f,children:[(0,l.jsx)(i.X,{as:"h1",mb:2,size:"xl",children:g}),k&&(0,l.jsx)(c.x,{mb:2,color:h,children:k}),(0,l.jsxs)(a.U,{mb:2,children:[(0,l.jsx)(i.X,{size:"md",children:"Steps"}),w&&(0,l.jsx)(d.z,{as:"a",href:"/walkthrough/".concat(t,"/read"),rightIcon:(0,l.jsx)(j.Bh3,{}),size:"xs",variant:"outline",colorScheme:"brand",children:"Read the guide"})]}),(0,l.jsxs)(s.k,{mb:v?2:4,p:2,px:4,borderWidth:1,borderColor:r,borderStyle:"solid",borderRadius:14,shadow:"sm",justifyContent:"space-between",alignItems:"center",children:[(0,l.jsx)("input",{type:"text",placeholder:"Search",style:{flex:1,marginRight:"20px",background:"none"},value:v,onChange:e=>y(e.target.value)}),(0,l.jsx)(u.xu,{color:C,children:v?(0,l.jsx)(u.xu,{cursor:"pointer",onClick:()=>y(""),children:(0,l.jsx)(j.lhV,{})}):(0,l.jsx)(j.adB,{})})]}),v&&(0,l.jsxs)(u.xu,{mb:4,children:[T.length>0&&(0,l.jsxs)(c.x,{children:["Search results for"," ",(0,l.jsx)(c.x,{as:"span",fontWeight:600,children:v})]}),0==T.length&&(0,l.jsxs)(c.x,{children:["No results for"," ",(0,l.jsx)(c.x,{as:"span",fontWeight:600,children:v})]})]}),T.map(e=>{let{step:t,idx:r}=e;return(0,l.jsx)(n.Fragment,{children:(0,l.jsx)(u.xu,{w:"100%",justifyContent:"flex-start",mb:4,borderWidth:1,borderStyle:"solid",borderColor:r===p?"brand.500":S,p:4,borderRadius:8,cursor:"pointer",transition:"all 200ms ease",transform:r===p?"scale(1.05)":void 0,onClick:()=>x(t),id:"chapter-".concat(r),shadow:r===p?"md":void 0,children:(0,l.jsx)(c.x,{fontSize:"sm",dangerouslySetInnerHTML:{__html:t.click.note||""}})},r)},r)})]})},P=e=>{let{videoRef:t,walkthroughId:r,fullscreen:n}=e;return(0,l.jsx)(u.xu,{h:"full",display:n?"flex":void 0,children:(0,l.jsx)("video",{ref:t,src:"https://slickwid-public.s3.amazonaws.com/walkthrough/".concat(r),controls:!1,style:{maxWidth:"100%",maxHeight:"calc(100vh - ".concat(n?0:120,"px)")},preload:"auto"})})},M=()=>(0,l.jsxs)(u.xu,{children:[(0,l.jsx)(c.x,{fontSize:10,children:"Powerd by"}),(0,l.jsxs)(a.U,{as:"a",href:"https://motionshot.app",fontSize:14,bg:"brand.200",px:2,borderRadius:4,borderColor:"brand.500",borderStyle:"solid",borderWidth:1,transition:"all 200ms ease",_hover:{shadow:"md"},spacing:1,children:[(0,l.jsx)(b(),{src:"/icon-512.png",width:14,height:14,alt:"MotionShot"}),(0,l.jsxs)(s.k,{fontWeight:600,children:[(0,l.jsx)(c.x,{color:"black",children:"Motion"}),(0,l.jsx)(c.x,{color:"brand.500",children:"Shot"})]})]})]}),A=(e,t)=>{let[r,l]=(0,n.useState)(!1),[o,s]=(0,n.useState)(),[i,c]=(0,n.useState)(0),[a,d]=(0,n.useState)(-1),[u,h]=(0,n.useState)(!0);(0,n.useEffect)(()=>{e.current&&(e.current.addEventListener("timeupdate",j),e.current.addEventListener("pause",f),e.current.addEventListener("play",x),e.current.addEventListener("loadedmetadata",p),e.current.addEventListener("loadstart",m),e.current.addEventListener("canplay",b),p())},[e.current]);let p=()=>{e.current&&e.current.videoWidth&&(d(e.current.duration),s({w:t*e.current.videoWidth/e.current.videoHeight,h:t}))},x=()=>{l(!0)},f=()=>{l(!1)},j=()=>{e.current&&c(e.current.currentTime)},m=()=>{h(!0)},b=()=>{h(!1)};return{playing:r,currentTime:i,dimensions:o,started:i>.01,ended:a-i<.01,duration:a,loading:u}},R=()=>(0,l.jsx)(h.M,{w:"full",h:"full",pos:"absolute",top:0,left:0,bg:"blackAlpha.800",children:(0,l.jsx)(p.$,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"blue.500",size:"xl"})}),E=e=>{let{walkthrough:t,stepped:r,onPrevious:o,playing:i,onTogglePlay:u,onNext:h,hideAsSteps:p,setStepped:m,hideCopyLink:b,hideDownload:g,borderColor:v,onFullscreen:C}=e,[S,T]=(0,n.useState)(!1),L=async()=>{(0,w.w)({id:t.id,client:await (0,y.q)()})};return(0,l.jsxs)(s.k,{w:"full",justifyContent:"space-between",flexDir:["column","column","row"],gap:4,p:4,borderTopWidth:1,borderStyle:"solid",borderColor:v,children:[(0,l.jsxs)(a.U,{alignItems:"center",children:[(0,l.jsxs)(x.h,{isAttached:!0,children:[r&&(0,l.jsx)(d.z,{onClick:o,children:(0,l.jsx)(j.euO,{})}),(0,l.jsx)(d.z,{colorScheme:i?void 0:"brand",onClick:u,children:i?(0,l.jsx)(j.Kfg,{}):(0,l.jsx)(j.gPz,{})}),r&&(0,l.jsx)(d.z,{onClick:h,children:(0,l.jsx)(j.uWW,{})})]}),(0,l.jsx)(d.z,{onClick:C,children:(0,l.jsx)(z.Ljx,{})}),!p&&!1]}),(0,l.jsxs)(s.k,{justifyContent:"flex-end",children:[!g&&(0,l.jsx)(f.u,{label:"Download the video",children:(0,l.jsx)(d.z,{mr:2,onClick:()=>{k().saveAs("https://slickwid-public.s3.amazonaws.com/walkthrough/".concat(t.id))},children:(0,l.jsx)(j.HXz,{})})}),!b&&(0,l.jsx)(f.u,{label:S?"Copied!":"Copy link",children:(0,l.jsx)(d.z,{mr:2,onClick:()=>{navigator.clipboard.writeText("https://www.motionshot.app/walkthrough/".concat(t.id)),T(!0),setTimeout(()=>{T(!1)},3e3)},isDisabled:S,children:S?(0,l.jsx)(j.e6w,{}):(0,l.jsx)(j.F3l,{})})}),t.ctaLabel&&t.ctaLink&&(0,l.jsxs)(d.z,{as:"a",colorScheme:"primary",href:t.ctaLink,target:"_blank",onClick:L,children:[(0,l.jsx)(c.x,{mr:2,children:t.ctaLabel}),(0,l.jsx)(j.m8I,{})]})]})]})},W=e=>{let{steps:t,duration:r,playing:o,onPlayToggle:i,currentTime:a,onStepClick:d,active:h,setIsMouseIn:p}=e,[x,f]=(0,n.useState)(),m=(0,n.useMemo)(()=>{let e=e=>{let t=e.step.at,l=e.widthPct,n=r*l/100;return Math.max(0,Math.min(100,(a-t)/n*100))},l=[],n=0;for(let o=0;o<t.length;o++)l.push({step:t[o],widthPct:-1,completedPct:0}),o>0&&(l[o-1].widthPct=t[o].at/r*100-n,l[o-1].completedPct=e(l[o-1]),n+=l[o-1].widthPct);return l.length>0&&(l[l.length-1].widthPct=100-l.map(e=>e.widthPct).reduce((e,t)=>e+t,0),l[l.length-1].completedPct=e(l[l.length-1])),l},[t,r,a]);return(0,l.jsxs)(u.xu,{position:"absolute",left:0,bottom:h?0:"-60px",width:"full",transition:"all 300ms ease",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[x&&(0,l.jsxs)(u.xu,{background:"blackAlpha.600",fontSize:"sm",color:"white",p:2,children:["Go to -"," ",(0,l.jsx)(c.x,{as:"span",dangerouslySetInnerHTML:{__html:x.click.note||""}})]}),(0,l.jsxs)(s.k,{background:"blackAlpha.500",alignItems:"center",children:[(0,l.jsx)(u.xu,{p:2,color:"white",_hover:{transform:"scale(1.2)"},cursor:"pointer",transition:"all 0.3s ease",onClick:i,children:o?(0,l.jsx)(j.Kfg,{}):(0,l.jsx)(j.gPz,{})}),(0,l.jsx)(s.k,{p:2,pl:0,flex:1,fontSize:"xs",alignItems:"center",children:m.map((e,t)=>(0,l.jsx)(u.xu,{width:e.widthPct+"%",h:"6px",background:"whiteAlpha.500",borderRadius:8,mx:"1px",transition:"all 300ms ease",cursor:"pointer",_hover:{height:"10px"},overflow:"hidden",onClick:()=>d(e.step),onMouseEnter:()=>f(e.step),onMouseLeave:()=>f(void 0),children:(0,l.jsx)(u.xu,{h:"full",background:"whiteAlpha.700",width:e.completedPct+"%"})},t))})]})]})},I=!1,_=e=>{let{walkthrough:t,h:r="100vh",maxVideoH:i=480,noDarkMode:c,hideSteps:a,asSteps:d,hideAsSteps:p,hideDownload:x,hideCopyLink:f,fullscreen:j}=e,m=(0,n.useRef)(null),b=(0,n.useRef)(null),g=(0,o.ff)("blackAlpha.300","whiteAlpha.300"),k=(0,o.ff)("blackAlpha.600","whiteAlpha.600"),v=A(m,i),[C,S]=(0,n.useState)(d||!1),z=(0,n.useRef)(),M=(0,o.ff)("blackAlpha.100","whiteAlpha.100"),R=(0,n.useMemo)(()=>{let e=JSON.parse(t.payload),r=[],l=0;for(let t of e)for(let e of t.props.clicks)e.note&&r.push({at:l,click:e,title:t.title}),l+=e.duration;return r},[t.payload]),[_,D]=(0,n.useState)(-1),[B,H]=(0,n.useState)(!0),[N,q]=(0,n.useState)(!1),O=(0,n.useRef)(),[F,K]=(0,n.useState)(!1);j=j||F,(0,n.useEffect)(()=>{let e;let t=v.currentTime;for(e=0;e<R.length&&!(R[e].at>t);e++);D(e-1)},[v.currentTime]),(0,n.useEffect)(()=>{if(R[_]&&C){let e=R[_].click,t=e.duration-.8;z.current=setTimeout(()=>{var e;null===(e=m.current)||void 0===e||e.pause()},1e3*t)}},[_]),(0,n.useEffect)(()=>{B&&(O.current&&clearTimeout(O.current),N||(O.current=setTimeout(()=>{H(!1)},4e3)))},[B,N]),(0,n.useEffect)(()=>{I||(I=!0,U())},[t]);let U=async()=>{(0,w.O)({id:t.id,client:await (0,y.q)()})},X=()=>{m.current&&(m.current.paused?m.current.play():m.current.pause())},Y=e=>{m.current&&(z.current&&clearTimeout(z.current),m.current.currentTime=e.at,m.current.play())};return(0,l.jsx)(u.xu,{children:(0,l.jsxs)(s.k,{h:["100%","100%",r],flexDir:["column-reverse","column-reverse","row"],children:[!a&&!j&&(0,l.jsx)(L,{borderColor:g,subColor:k,currentChapterIdx:_,handleChapterClickClick:Y,scrollRef:b,chapterClicks:R,noDarkMode:c,title:t.title,description:t.description,walkthroughId:t.id,readMode:!!t.publishedImages}),(0,l.jsxs)(s.k,{flexDir:"column",w:"full",h:"full",children:[(0,l.jsx)(h.M,{flex:1,p:j?0:4,bg:j?"#000":M,h:"full",children:(0,l.jsxs)(u.xu,{pos:"relative",borderRadius:j?0:10,borderWidth:j?0:1,borderStyle:"solid",borderColor:g,overflow:"hidden",opacity:v.dimensions?1:0,h:j?"full":void 0,onMouseMove:()=>H(!0),children:[(0,l.jsx)(P,{videoRef:m,walkthroughId:t.id,fullscreen:j}),v.loading&&!1,(0,l.jsx)(T,{started:v.started,ended:v.ended,onStart:X,onRestart:X,playing:v.playing,ctaLabel:t.ctaLabel||void 0,ctaLink:t.ctaLink||void 0,id:t.id}),j&&(0,l.jsx)(W,{steps:R,duration:v.duration,onPlayToggle:X,playing:v.playing,currentTime:v.currentTime,onStepClick:Y,active:!v.playing||B,setIsMouseIn:q})]})}),!j&&(0,l.jsx)(E,{borderColor:g,walkthrough:t,stepped:C,onPrevious:()=>{_>0&&(z.current&&clearTimeout(z.current),Y(R[_-1]))},playing:v.playing,onTogglePlay:X,onNext:()=>{_<R.length-1&&(z.current&&clearTimeout(z.current),Y(R[_+1]))},hideAsSteps:p||!1,setStepped:S,hideDownload:x||!1,hideCopyLink:f||!1,onFullscreen:()=>K(!0)})]})]})})}}}]);